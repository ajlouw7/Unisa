\documentclass[10pt,a4paper]{article}
\usepackage[natbibapa]{apacite} 
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage[a4paper,margin=0.8in]{geometry} 

%opening
\title{COS 4892 Assignment 2}
\author{Adriaan Louw (53031377)}

\newcommand{\interp}{I}
\providecommand{\floor}[1]{\lfloor #1 \rfloor  }

\newcommand{\en}{\wedge}
\newcommand{\of}{\vee}
\begin{document}

\maketitle

\section{Question 1}

We will define

\begin{equation}
\label{q1}
Q = ((Q_1 \wedge B) \vee (Q_2 \wedge \neg B))
\end{equation}

Now we calculate from Equation \ref{q1}

\begin{equation}
\begin{split}
 Q\wedge B &= ((Q_1\wedge B)\vee(Q_2\wedge B))\wedge B\\
 &= (Q_1\wedge B \wedge B)\vee (Q_2\wedge \neg B \wedge B)\\
 &= Q_1\wedge B
 \end{split}
\end{equation}

and

\begin{equation}
\begin{split}
 Q\wedge B &= ((Q_1\wedge B)\vee(Q_2\wedge B))\wedge B\\
 &= (Q_1\wedge B \wedge \neg B)\vee (Q_2\wedge \neg B \wedge \neg B)\\
 &= Q_2\wedge \neg B
 \end{split}
\end{equation}

















\section{Question 2.1}

\begin{equation}
\{?\} x:=3.2z\{wy-2w^2<z\} 
\end{equation}

\begin{equation}
\{wy-2w^2<z\}  x:=3.2z\{wy-2w^2<z\} 
\end{equation}

The post condition is not dependant on $x$. Thus there is notihing to replace by using the assignment Axiom

\section{Question 2.2}

\begin{equation}
 \{?\} x:=x-1;y:=y-1\{z-1\leq y < x \leq w\}
\end{equation}

\begin{equation}
 \{z-1\leq y-1<x-1\leq w\} x:=x-1;y:=y-1\{z-1\leq y < x \leq w\}
\end{equation}

\begin{equation}
 \{z\leq y<x\leq w+1\} x:=x-1;y:=y-1\{z-1\leq y < x \leq w\}
\end{equation}

\section{Question 2.3}
\begin{equation}
 \{?\} if  even(x) \rightarrow x:=x-1 else  odd(x) \rightarrow z:= z+yx\{x\geq 0 \wedge z + yx = ab \}
\end{equation}




Using the retrogressive theorem for the if statement:

Taking the case as of $S1 = even(x)\rightarrow x:=x-1$

\begin{equation}
 \{?\}x:x-1\{x\geq 0 \wedge z + yx = ab \}
\end{equation}


\begin{equation}
\{x\geq 0 \wedge z + y(x-1) = ab \}x:x-1\{x\geq 0 \wedge z + yx = ab \}
\end{equation}


\begin{equation}
\{x\geq 0 \wedge z + yx-y = ab \}x:x-1\{x\geq 0 \wedge z + yx = ab \}
\end{equation}

Taking the case as of $S2 = odd(x)\rightarrow z:=z+yx$

\begin{equation}
 \{?\}z:z+yx\{x\geq 0 \wedge z + yx = ab \}
\end{equation}

\begin{equation}
\{x\geq 0 \wedge (z+yx) + yx = ab \}z:z+yx\{x\geq 0 \wedge z + yx = ab \}
\end{equation}

\begin{equation}
\{x\geq 0 \wedge z+ 2yx = ab \}z:z+yx\{x\geq 0 \wedge z + yx = ab \}
\end{equation}

Now applying the retrogressive theorem for the if statement
\begin{equation}
\begin{split}
 \{(x\geq 0 \wedge z + yx-y = ab \wedge even(x) )\vee (x\geq 0 \wedge z+ 2yx = ab \wedge odd(x))\}\\ if  even(x) \rightarrow x:=x-1 else  odd(x) \rightarrow z:= z+yx \\ \{x\geq 0 \wedge z + yx = ab \}
\end{split}
 \end{equation}

\section{Question 2.4}

\begin{equation}
 \{?\} while 0 \geq c \geq -2 do x:=x-1 endwhile \{x=-3\}
\end{equation}

\begin{equation}
 B = 0 \geq c \geq -2
\end{equation}

\begin{equation}
 S =  x:=x-1
\end{equation}

Starting with 

\begin{equation}
\begin{split}
 \{Z_0\}&S^0\{\neg B\}\\
 \{B \wedge C_0\}&x:=x-1\{x=-3\}\\
 \{ 0 \geq x \geq -2\wedge x-1=-3\}&x:=x-1\{x=-3\}\\
 \{ 0 \geq x \geq -2\wedge x=-2\}&x:=x-1\{x=-3\}\\
\end{split}
 \end{equation}

\begin{equation}
\begin{split}
 \{Z_1\}&S\{Z_0\}\\
  \{ 0 \geq x \geq -2\wedge x-1=-2\}&x:=x-1\{0 \geq c \geq -2\wedge x=-2\}\\
    \{ 0 \geq x \geq -2\wedge x=-1\}&x:=x-1\{0 \geq c \geq -2\wedge x=-2\}\\
\end{split}
  \end{equation}

\begin{equation}
\begin{split}
 \{Z_2\}&S\{Z_1\}\\
  \{  0 \geq x \geq -2\wedge x-1=-1\}&x:=x-1\{ 1 \geq x \geq -1\wedge x=-1\}\\
    \{  0 \geq x \geq -2\wedge x=0\}&x:=x-1\{ 1 \geq x \geq -1\wedge x=-1\}\\
\end{split}
  \end{equation} 

  
\begin{equation}
\begin{split}
 \{Z_3\}&S\{Z_2\}\\
  \{  0 \geq x \geq -2\wedge x-1=0\}&x:=x-1 \{ 2 \geq x \geq 0\wedge x=0\}\\
    \{ 0 \geq x \geq -2\wedge x=1\}&x:=x-1 \{ 2 \geq x \geq 0\wedge x=0\}\\
\end{split}
  \end{equation} 


$Z_3$ is false thus the preconditions of S are

\begin{equation}
\begin{split}
 &\{Z_0 \vee Z_1 \vee Z_2\}\\
 &\{(0 \geq x \geq -2\wedge x=-2)\vee (0 \geq x \geq -2\wedge x=-1)\vee( 0 \geq x \geq -2\wedge x=0)\}
 \end{split}
\end{equation}

\end{document}


